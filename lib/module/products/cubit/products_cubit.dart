import 'package:bloc/bloc.dart';import 'package:flutter/src/widgets/framework.dart';import 'package:flutter_app2/models/home/home_products.dart';import 'package:flutter_app2/models/products/products_model.dart';import 'package:flutter_app2/module/products/cubit/products_states.dart';import 'package:flutter_app2/network/dio_helper/dioHelper.dart';import 'package:flutter_app2/utiles/endpoints.dart';class ProductsCubit extends Cubit<ProductsStates>{  ProductsCubit() : super(InitialState());  List<ProductModel> productsList = [];  void getProducts(String category) {    emit(LoadingState());    var quary={"pageSize":"25","pageIndex":"0","categoryId":category};    DioHelper.getData(EndPoints.productsAPI,queries: quary).then((value) {      ProductsModel model = ProductsModel.fromJson(value.data);      print(category);      productsList.addAll(model.list);      print(model.list);      emit(ProductsListState());    }).catchError(onError);  } }