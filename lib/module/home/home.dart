import 'package:conditional_builder/conditional_builder.dart';import 'package:flutter/material.dart';import 'package:flutter_app2/layout/home/best_seller_layout.dart';import 'package:flutter_app2/layout/home/brands_layout.dart';import 'package:flutter_app2/layout/home/category_with_products_view.dart';import 'package:flutter_app2/layout/home/images_slider.dart';import 'package:flutter_app2/layout/home/popular_category.dart';import 'package:flutter_app2/module/home/cubit/home_cubit.dart';import 'package:flutter_app2/module/home/cubit/home_state.dart';import 'package:flutter_bloc/flutter_bloc.dart';class HomeScreen extends StatelessWidget {  @override  Widget build(BuildContext context) {    return BlocProvider<HomeCubit>(        create: (context) =>HomeCubit()..getData() ,        child:BlocConsumer<HomeCubit,HomeStates>(          listener: (context, state) {},          builder: (context, state) {            var bloc= HomeCubit.get(context);            return Container(              color: Colors.white,              height: double.infinity,              child:              ConditionalBuilder(                condition: state is! HomeLoadingState,                builder: (context) => SingleChildScrollView(                    child: Column(                      children: [                        Container(                          width: double.infinity,                          margin: EdgeInsets.all(15),                          child: Column(                            children: [                              searchWidgetView(),                              SizedBox(                                height: 15,                              ),                              ImagesSlider(bloc.sliderList),                              SizedBox(                                height: 15,                              ),                              PopularCategoryView(bloc.vendorsList),                              SizedBox(                                height: 10,                              ),                              // BrandsLayout(bloc.brandsList),                              Divider(                                height: 10,                                 color: Colors.black12,                               ),                              SizedBox(                                height: 10,                              ),                              CategoryWithProductsView(bloc.categoryWithProductsList),                              SizedBox(                                height: 10,                              ),                              Divider(                                height: 10,                                color: Colors.black12,                              ),                              SizedBox(                                height: 10,                              ),                              BestSeller(                                title: 'Best Seller',                                isLight: true,                                list: bloc.bestSellerList,                              ),                            ],                          ),                        ),                        Container(                            color: Colors.black,                            padding: EdgeInsetsDirectional.only(                                top: 5, start: 15, end: 15),                            child: BestSeller(                              title: 'New Products',                              isLight: false,                              list: bloc.newProductsList,                            )),                      ],                    )),               fallback:  (context) => Center(                   child: CircularProgressIndicator(                     backgroundColor: Colors.red,                   )),              )            );          }        )    );  }  Widget searchWidgetView() => Container(        width: double.infinity,        height: 40,        decoration: BoxDecoration(          borderRadius: BorderRadius.circular(5),          color: Colors.grey[200],        ),        child:        TextButton.icon(          icon: Icon(            Icons.search,            size: 20,            color: Colors.black,          ),          label: Text(            'Search',            style: TextStyle(              fontSize: 15,              color: Colors.black,            ),          ),          onPressed: () {},          style: ButtonStyle(            alignment: AlignmentDirectional.centerStart,          ),        ),      );}