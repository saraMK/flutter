import 'package:bloc/bloc.dart';import 'package:flutter_app2/models/home/category_with_products_model.dart';import 'package:flutter_app2/models/home/home_products.dart';import 'package:flutter_app2/models/home/slider_model_entity.dart';import 'package:flutter_app2/models/home/vendor_model.dart';import 'package:flutter_app2/models/products/products_model.dart';import 'package:flutter_app2/network/dio_helper/dioHelper.dart';import 'package:flutter_app2/utiles/endpoints.dart';import 'package:flutter_bloc/flutter_bloc.dart';import 'home_state.dart';class HomeCubit extends Cubit<HomeStates> {  HomeCubit() : super(IntialState());  List<SliderItem> sliderList = [];  List<VendorItem> vendorsList = [];  List<HomePageCategoryWithProducts> categoryWithProductsList = [];  List<VendorItem> brandsList = [];  List<ProductModel> bestSellerList = [];  List<ProductModel> newProductsList = [];  static HomeCubit get(context) => BlocProvider.of(context);  void getData() {    emit(HomeLoadingState());    _getSlider();    _getVendor();    _getBrands();    _getBestSeller();    _getCategories();    _getNewProducts();  }  void _getSlider() {    emit(HomeLoadingState());    DioHelper.getData(EndPoints.sliderAPI).then((value) {      SliderModelHomePageSlider model =          SliderModelHomePageSlider.fromJson(value.data);      sliderList = model.sliderList;    //  print(sliderList.length);      emit(HomeSliderState());    }).catchError(onError);  }  void _getVendor() {    var quary={"pageSize":"10","pageIndex":"0"};    DioHelper.getData(EndPoints.vendorAPI,queries: quary).then((value) {      VendorModel model =      VendorModel.fromJson(value.data);      vendorsList = model.list;       emit(VendorsState());    }).catchError(onError);  }  void _getBrands() {    var quary={"pageSize":"9","pageIndex":"0"};    DioHelper.getData(EndPoints.brandsAPI,queries: quary).then((value) {      BrandsModel model =      BrandsModel.fromJson(value.data);      brandsList = model.list;      emit(HomeBrandsState());    }).catchError(onError);  }  void _getBestSeller() {    var quary={"pageSize":"10","pageIndex":"0"};    DioHelper.getData(EndPoints.bestSellerAPI,queries: quary).then((value) {      BesSellerProductsModel model =      BesSellerProductsModel.fromJson(value.data);      bestSellerList = model.list;      emit(HomeBrandsState());    }).catchError(onError);  }  void _getNewProducts() {    var quary={"pageSize":"10","pageIndex":"0"};    DioHelper.getData(EndPoints.newProductsAPI,queries: quary).then((value) {      NewProductsModel model =      NewProductsModel.fromJson(value.data);      newProductsList = model.list;      emit(HomeBrandsState());    }).catchError(onError);  }  void _getCategories() {     DioHelper.getData(EndPoints.homePageCategoriesAPI).then((value) {       CategoryWithProductsModel model =       CategoryWithProductsModel.fromJson(value.data);      categoryWithProductsList = model.list;      emit(HomeBrandsState());    }).catchError(onError);  }}